<!DOCTYPE html>
<html ng-app="myApp">
<head>
  <link data-require="bootstrap-css@3.3.7" data-semver="3.3.7" rel="stylesheet" href="//netdna.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" />
  <script src="//ajax.googleapis.com/ajax/libs/angularjs/1.5.8/angular.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/angularjs/1.5.8/angular-animate.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/angularjs/1.5.8/angular-sanitize.js"></script>
  <script src="//angular-ui.github.io/bootstrap/ui-bootstrap-tpls-2.2.0.js"></script>
  <script data-require="jquery@*" data-semver="2.1.1" src="http://code.jquery.com/jquery-2.1.1.min.js"></script>
  <script data-require="bootstrap@3.3.7" data-semver="3.3.7" src="//netdna.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
  <link rel="stylesheet" href="style.css" />
  <script src="dirPagination.js"></script>
  <script src="script.js"></script>
</head>

<body>
	<div class="container-fluid navbar navbar-fixed-top" id="logo">
		<div class="row">
	    <div class="col-xs-3 col-md-3 col-lg-3">	
				<button type="button" id="menu-toggle" class="btn btn-link">
					<span class="glyphicon glyphicon-menu-hamburger"></span>
				</button>
			</div>
			<div class="col-xs-6 col-md-6 col-lg-6 col-xs-offset-2">
					<a href="http://sunlightfoundation.com/" target="_blank"><img src="http://cs-server.usc.edu:45678/hw/hw8/images/logo.png" alt="logo" width=60>Congress API</a>
	    </div>
      <div class="clearfix visible-md-block"></div>
		</div>
	</div>
  <div id="wrapper">
    <!-- Sidebar -->
    <div id="sidebar-wrapper">
      <ul class="sidebar-nav">
        <li class="active">
          <div ng-controller="legislatorsGetController">
            <a data-toggle="tab" href="#legislators_view" id="legislators"><span class="glyphicon glyphicon-user"></span> <span class="hidden-sm hidden-xs">Legislators</span></a>
          </div>
        </li>
        <li>
          <div ng-controller="billsGetController">
          <a data-toggle="tab" href="#bills_view" id="bills"><span class="glyphicon glyphicon-file"></span> <span class="hidden-sm hidden-xs">Bills</span></a>
          </div>
        </li>
        <li>
            <div ng-controller="committeesGetController">
            <a data-toggle="tab" href="#committees_view" id="committees"><span class="glyphicon glyphicon-log-in"></span> <span class="hidden-xs hidden-sm">Committees</span></a>
            </div>
        </li>
        <li>
            <div ng-controller="favoritesGetController">
            <a data-toggle="tab" href="#favorites_view" id="favorites"><span class="glyphicon glyphicon-star"></span> <span class="hidden-xs hidden-sm">Favorites</span></a>
            </div>
        </li>
      </ul>
    </div>
    <!-- /#sidebar-wrapper -->
    <!-- Page Content -->
    <div id="page-content-wrapper">
      <div class='container-fluid'>
        <div class="tab-content">
          <!-- lagislators_view -->
          <div id='legislators_view' class="tab-pane fade in active"  ng-controller="legislatorsViewController">
            <div class="row">
              <div class="col-md-12 col-lg-12">
                <h1>Legislators</h1>
                <hr />
                <div class="carousel slide" id="legislator_carousel" data-interval="false">
                  <div class="carousel-inner">
                    <!-- basic -->
                    <div class="item active" id="legislators_basic_view">
                      <ul class="nav nav-tabs">
                        <li class="active"><a data-toggle="tab" href="#byState">By State</a></li>
                        <li><a data-toggle="tab" href="#House">House</a></li>
                        <li><a data-toggle="tab" href="#Senate">Senate</a></li>
                      </ul>
                      <div class="tab-content">
                        <div id="byState" class="tab-pane fade in active">
                          <div class="container-fluid">
                            <div class="row input-group">
                              <div class="col-md-8">Legislators By State</div>
                              <div class="col-md-4">
                                <select class="selectpicker" ng-model="search.state_name" id="search">
                                  <option value=''>All States</option>
                                  <option>Alabama</option>
                                  <option>Alaska</option>
                                  <option>Arizona</option>
                                  <option>Arkansas</option>
                                  <option>California</option>
                                  <option>Colorado</option>
                                  <option>Connecticut</option>
                                  <option>Delaware</option>
                                  <option>Florida</option>
                                  <option>Georgia</option>
                                  <option>Hawaii</option>
                                  <option>Idaho</option>
                                  <option>Illinois</option>
                                  <option>Indiana</option>
                                  <option>Iowa</option>
                                  <option>Kansas</option>
                                  <option>Kentucky</option>
                                  <option>Louisiana</option>
                                  <option>Maine</option>
                                  <option>Maryland</option>
                                  <option>Massachusetts</option>
                                  <option>Michigan</option>
                                  <option>Minnesota</option>
                                  <option>Mississippi</option>
                                  <option>Missouri</option>
                                  <option>Montana</option>
                                  <option>Nebraska</option>
                                  <option>Nevada</option>
                                  <option>New Hampshire</option>
                                  <option>New Jersey</option>
                                  <option>New Mexico</option>
                                  <option>New York</option>
                                  <option>North Carolina</option>
                                  <option>North Dakota</option>
                                  <option>Ohio</option>
                                  <option>Oklahoma</option>
                                  <option>Oregon</option>
                                  <option>Pennsylvania</option>
                                  <option>Rhode Island</option>
                                  <option>South Carolina</option>
                                  <option>South Dakota</option>
                                  <option>Tennessee</option>
                                  <option>Texas</option>
                                  <option>Utah</option>
                                  <option>Vermont</option>
                                  <option>Virginia</option>
                                  <option>Washington</option>
                                  <option>West Virginia</option>
                                  <option>Wisconsin</option>
                                  <option>Wyoming</option>
                                </select>
                              </div>
                            </div>
                          </div>
                          <br>
                          <div class="panel panel-default">
                            <div class="panel-body">
                              <table class="table table-hover" id="legislators_basic">
                              <thead>
                                <tr>
                                  <th>Party</th>
                                  <th>Name</th>
                                  <th>Chamber</th>
                                  <th>District</th>
                                  <th>State</th>
                                  <th></th>
                                </tr>
                              </thead>
                              <tbody>
                                <tr dir-paginate="legislator in legislators | filter: search : true| itemsPerPage: pageSize" current-page="currentPage">
                                  <td><img ng-src="{{ legislator.party.src }}" width='25'/></td>
                                  <td>{{ legislator.first_name + " " + legislator.last_name}} </td>
                                  <td><img ng-src="{{ legislator.chamber.src }}" width='25'/> {{ legislator.chamber.name }}</td>
                                  <td>{{ legislator.district }}</td>
                                  <td>{{ legislator.state_name }}</td>
                                  <td><a class="right btn btn-primary" href="#legislator_carousel" role="button" data-slide="next" ng-click="details(legislator)">View Details</a></td>
                                </tr>
                              </tbody>
                            </table>
                            </div>
                          </div>
                          <div ng-controller="PageController" class="page-controller">
                            <div class="text-center">
                            <dir-pagination-controls boundary-links="true" on-page-change="pageChangeHandler(newPageNumber)" template-url="dirPagination.tpl.html"></dir-pagination-controls>
                            </div>
                          </div>
                        </div>
                        <div id="House" class="tab-pane fade">
                        </div>
                        <div id="Senate" class="tab-pane fade">
                        </div>
                      </div>
                    </div>
                    <!-- # basic -->
                    <!-- detail -->
                    <div class="item" id="legislators_detail_view">
                      <div class="container-fluid">
                        <div class="row">
                          <div class="col-md-12">
                          <a class="left btn btn-default btn-sm" href="#legislator_carousel" role="button" data-slide="prev"><span class="glyphicon glyphicon-chevron-left"></span></a>Details
                          </div>
                        </div>
                        <hr />

                        <div class="row">
                          <!-- personal info -->
                          <div class="col-lg-6 col-md-8 col-sm-12">
                            <table class="table table-hover">
                              <td><img src="https://theunitedstates.io/images/congress/original/{{specific_legislator.bioguide_id}}.jpg" alt="bio_img" width="180">
                              </td>
                              <td>
                                <table class="table">
                                  <tr><td>{{specific_legislator.title + ". " + specific_legislator.last_name + ", " + specific_legislator.first_name }}</td></tr>
                                  <tr><td><a href="mailto:{{ specific_legislator.oc_email }}">{{ specific_legislator.oc_email }}</a></td></tr>
                                  <tr><td>Chamber: {{ specific_legislator.chamber.name}}</td></tr>
                                  <tr><td>Contact: <a href="tel:{{ specific_legislator.phone }}">{{ specific_legislator.phone }}</a></td></tr>
                                  <tr><td><img src="{{specific_legislator.party.src}}" alt="party_img" width="25">{{specific_legislator.party.name }}</td></tr>
                                </table>
                              </td>
                              <tr><td>Start Term</td><td>{{ specific_legislator.term_start}}</td></tr>
                              <tr><td>End Term</td><td>{{specific_legislator.term_end}}</td></tr>
                              <tr><td>Term</td><td><uib-progressbar animate="false" value="progress" type="success"><b>{{progress}}%</b></uib-progressbar></td></tr>
                              <tr><td>Office</td><td>{{specific_legislator.office}}</td></tr>
                              <tr><td>State</td><td>{{specific_legislator.state_name}}</td></tr>
                              <tr><td>Fax</td><td>
                              <a href="fax:{{specific_legislator.fax}}">{{specific_legislator.fax}}</a></td></tr>
                              <tr><td>Birthday</td><td>{{specific_legislator.birthday}}</td></tr>
                              <tr><td>Social Links</td>
                              <td>
                                <a href="http://www.twitter.com/{{specific_legislator.twitter_id}}" target='_blank'><img src="http://cs-server.usc.edu:45678/hw/hw8/images/t.png" alt="twitter" width="50"></a>
                                <a href="http://www.facebook.com/{{specific_legislator.facebook_id}}" target='_blank'><img src="http://cs-server.usc.edu:45678/hw/hw8/images/f.png" alt="facebook" width="50"></a>
                                <a href="{{specific_legislator.website}}" target='_blank'><img src="http://cs-server.usc.edu:45678/hw/hw8/images/w.png" alt="website" width="50"></a>
                              </td>
                              </tr>
                            </table>                    
                          </div>
                          <!-- #personal info -->
                          <!-- committees and bills -->
                          <div class="col-lg-6 col-md-8 col-sm-12">
                            <h4>Committees</h4>
                            <table class="table table-hover">
                              <thead>
                                <tr>
                                  <th>Chamber</th>
                                  <th>Committee ID</th>
                                  <th>Name</th>
                                </tr>
                              </thead>
                              <tbody>
                                <tr ng-repeat="committee in committees">
                                  <td>{{committee.chamber}}</td>
                                  <td>{{committee.committee_id}}</td>
                                  <td>{{committee.name}}</td>
                                </tr>
                              </tbody>
                            </table>

                            <h4>Bills</h4>
                            <table class="table table hover">
                              <thead>
                                <tr>
                                  <th>Bill ID</th>
                                  <th>Title</th>
                                  <th>Chamber</th>
                                  <th>Bill Type</th>
                                  <th>Congress</th>
                                  <th>Link</th>
                                </tr>
                              </thead>
                              <tbody>
                                <tr ng-repeat="bill in bills">
                                  <td>{{bill.bill_id}}</td>
                                  <td>{{bill.short_title}}</td>
                                  <td>{{bill.chamber}}</td>
                                  <td>{{bill.bill_type}}</td>
                                  <td>{{bill.congress}}</td>
                                  <td><a href="{{bill.last_version.urls.pdf}}" target="_blank">Link</a></td>
                                </tr>
                              </tbody>
                            </table>
                          </div>
                          <!-- #committees and bills -->
                        </div>

                      </div>
                    </div>
                    <!-- # detail -->
                  </div>
                </div>
              </div>
            </div>
          </div>
          <!-- #lagislators_view -->
          <!-- bills_view -->
          <div id="bills_view" class="tab-pane fade">
            <div class="row">
              <div class="col-md-12 col-lg-12">
                  <h1>bills pending</h1>
              </div>
            </div>
          </div>
          <!-- #bills_view -->
          <!-- committees_view -->
          <div id="committees_view" class="tab-pane fade">
            <div class="row">
              <div class="col-md-12 col-lg-12">
                  <h1>committees pending</h1>
              </div>
            </div>
          </div>
          <!-- #committees_view -->
          <!-- favorites_view -->
          <div id="favorites_view" class="tab-pane fade">
            <div class="row">
              <div class="col-md-12 col-lg-12">
                  <h1>favorites pending</h1>
              </div>
            </div>
          </div>
          <!-- #favorites_view -->
        </div>
      </div>
    </div>
    <!-- /#page-content-wrapper -->
  </div>
    <!-- /#wrapper -->
</body>
</html>

<script>
$("#menu-toggle").click(function(e) {
  e.preventDefault();
  $("#wrapper").toggleClass("toggled");
});
</script>
